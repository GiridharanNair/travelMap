//! travelmap.js
//! version : 0.01.0
//! authors : Shawn Wildermuth
//! license : MIT
(function(){"use strict";var t={},o={stops:[],currentStop:0,selector:"#map",icon:{url:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAIAAABvrngfAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAA1JREFUGFdjoDNgYAAAAHIAAejt7scAAAAASUVORK5CYII=",width:3,height:3},initialZoom:4,pastStroke:{color:"#190300",opacity:.5,weight:2},futureStroke:{color:"#D30000",opacity:.6,weight:2},mapOptions:{draggable:!0,scrollwheel:!1,disableDoubleClickZoom:!0,zoomControl:!0}};t.createMap=function(t){var e,i=a(t,o);if(!i.stops||0==i.stops.length)throw"You must supply stops when creating a map.";var l=i.stops.slice(0,i.currentStop+1),s=i.stops.slice(i.currentStop,i.stops.length),p=i.stops[i.currentStop];n(),"function"==typeof window.GMaps&&window.GMaps||console.log("GMaps (and Google Maps API) is required. Please register the following JavaScript library https://hpneo.github.io/gmaps/documentation.html"),e=new GMaps({div:i.selector,lat:p.lat,lng:p["long"],zoom:i.initialZoom}),e.map.setOptions(i.mapOptions),e.drawPolyline({path:r(l),strokeColor:i.pastStroke.color,strokeOpacity:i.pastStroke.opacity,strokeWeight:i.pastStroke.weight}),e.drawPolyline({path:r(s),strokeColor:i.futureStroke.color,strokeOpacity:i.futureStroke.opacity,strokeWeight:i.futureStroke.weight});for(var c=0;c<i.stops.length;++c){var A=i.stops[c];c!=i.currentStop&&e.addMarker({lat:A.lat,lng:A["long"],icon:i.icon.url,infoWindow:{content:A.info},anchorPoint:{x:i.icon.width/2,y:i.icon.height/2}})}return e.drawOverlay({lat:p.lat,lng:p["long"],content:'<div class="overlay">Current Location<br/>'+p.info+'<div class="overlay_arrow above"></div></div>',verticalAlign:"top",horizontalAlign:"center",layer:"overlayImage"}),{map:e,settings:i,currentLocation:p}};var e=function(t){return[t.lat,t["long"]]},r=function(t){for(var o=[],r=0;r<t.length;++r)o.push(e(t[r]));return o},n=function(){var t=".stopName { background: none repeat scroll 0 0 #222; width: 4px; height: 4px; }.gm-style-iw{ overflow: hidden !important; }",o=document.createElement("style");o.innerHTML=t,document.head.appendChild(o)},a=function(t,o){var e=o;for(var r in t)t.hasOwnProperty(r)&&void 0!==t[r]&&(e[r]=t[r]);return e};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=t),exports.travelMap=t):this.travelMap=t,"function"==typeof define&&define.amd&&define("travelMap",[],function(){return t})}).call(this);
//# sourceMappingURL=travelmap.js.map